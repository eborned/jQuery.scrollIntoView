!function(a){a.fn.scrollIntoView=function(b,c,d){function e(b,c){void 0===c?a.isFunction(f.complete)&&f.complete.call(b):f.smooth?a(b).stop().animate({scrollTop:c},f):(b.scrollTop=c,a.isFunction(f.complete)&&f.complete.call(b))}var f=a.extend({},a.fn.scrollIntoView.defaults);"object"===a.type(b)?a.extend(f,b):"number"===a.type(b)?a.extend(f,{duration:b,easing:c,complete:d}):b===!1&&(f.smooth=!1);var g=1/0,h=0;1===this.size()?(g=this.get(0).offsetTop,null!==g&&(h=g+this.get(0).offsetHeight)):this.each(function(a,b){b.offsetTop<g?g=b.offsetTop:b.offsetTop+b.offsetHeight>h&&(h=b.offsetTop+b.offsetHeight)}),h-=g;for(var i=this.commonAncestor().get(0),j=a(window).height();i;){var k=i.scrollTop,l=i.clientHeight;if(l>j&&(l=j),0===l&&"BODY"===i.tagName&&(l=j),i.scrollTop!==(null===(i.scrollTop+=1)||i.scrollTop)&&null!==(i.scrollTop-=1)||i.scrollTop!==(null===(i.scrollTop-=1)||i.scrollTop)&&null!==(i.scrollTop+=1))return void(k>=g?e(i,g):g+h>k+l?e(i,g+h-l):e(i,void 0));i=i.parentNode}return this},a.fn.scrollIntoView.defaults={smooth:!0,duration:null,easing:a.easing&&a.easing.easeOutExpo?"easeOutExpo":null,complete:a.noop(),step:null,specialEasing:{}},a.fn.isOutOfView=function(a){var b=!0;return this.each(function(){var c=this.parentNode,d=c.scrollTop,e=c.clientHeight,f=this.offsetTop,g=this.offsetHeight;(a?f>d+e:f+g>d+e)||(a?d>f+g:d>f)||(b=!1)}),b},a.fn.commonAncestor=function(){var b=[],c=1/0;a(this).each(function(){var d=a(this).parents();b.push(d),c=Math.min(c,d.length)});for(var d=0;d<b.length;d++)b[d]=b[d].slice(b[d].length-c);for(d=0;d<b[0].length;d++){var e=!0;for(var f in b)if(b[f][d]!==b[0][d]){e=!1;break}if(e)return a(b[0][d])}return a([])}}(jQuery);